// Module included in the following assemblies:
//
// * operating/manage-user-access/configure-ocp-oauth.adoc
:_content-type: PROCEDURE
[id="configure-ocp-oauth-identity-provider_{context}"]
= Configuring {ocp} OAuth server as an identity provider

[role="_abstract"]
To integrate the built-in {ocp} OAuth server as an identity provider for {product-title-short}, use the instructions in this section.

.Prerequisites
* You must have the `AuthProvider` permission to configure identity providers in {product-title-short}.
* You must have already configured users and groups in {ocp} OAuth server through an identity provider. For information about identity provider requirements, see "Understanding identity provider configuration" in the "Additional resources" section.

.Procedure
. On the {product-title-short} portal, navigate to *Platform Configuration* -> *Access Control*.
. Click *Create auth provider* and select *OpenShift Auth* from the drop-down list.
. Enter a name for the authentication provider in the *Name* field.
. Assign a *Minimum access role* for users that access {product-title-short} using the selected identity provider. A user must have the permissions granted to this role or a role with higher permissions to log in to {product-title-short}.
+
[TIP]
====
For security, Red Hat recommends first setting the *Minimum access role* to *None* while you complete setup. Later, you can return to the *Access Control* page to set up more tailored access rules based on user metadata from your identity provider.
====

. To add access rules for users and groups accessing {product-title-short}, click *Add new rule* in the *Rules* section. For example:
.. To give the *Admin* role to a user called `administrator`, you can use the following key-value pairs to create access rules:
+
|===
| *Key* | *Value*
|Name
|administrator
|Role
|Admin
|===
.. If you are using the link:https://access.redhat.com/documentation/en-us/openshift_container_platform/4.11/html-single/authentication_and_authorization/index#configuring-htpasswd-identity-provider[HTPasswd Identity Provider] with the username `UserA` that is part of the group `GroupA`, you can use the following key-value pairs to create access rules:
+
|===
| *Key* | *Value*
|Name
|UserA
|Group
|GroupA
|UserID
|<UUID>
|===
. Click *Save*.
